(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[344],{163:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/login",function(){return s(1739)}])},3832:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(3759).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},5928:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(3759).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},641:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(3759).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},2126:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(3759).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},6691:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(3759).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},1739:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return y}});var r=s(5893),n=s(7294),i=s(9008),a=s.n(i),l=s(1664),o=s.n(l),d=s(1163),c=s(837),u=s(8844),m=s(3765),x=s(6691),h=s(2126),f=s(3832),g=s(5928),p=s(641);function y(){let[e,t]=(0,n.useState)(""),[s,i]=(0,n.useState)(""),[l,y]=(0,n.useState)(!1),[j,w]=(0,n.useState)(!1),[b,v]=(0,n.useState)(null),{signIn:N,user:k}=(0,c.a)(),{showToast:Z}=(0,u.l)(),_=(0,d.useRouter)(),{redirect:E}=_.query;(0,n.useEffect)(()=>{if(k){if("admin@gmail.com"===k.email||"admin"===k.role||k.app_metadata?.role==="admin"||k.user_metadata?.role==="admin")_.push("/admin");else{let e=E||"/";_.push(e)}}},[k,_,E]);let S=async t=>{if(t.preventDefault(),w(!0),v(null),!e||!s){v("Please fill in all fields"),w(!1);return}try{let t=await N(e,s);if(t.error)v(t.error.message||"Invalid login credentials"),w(!1);else if("admin@gmail.com"===e)Z("Admin login successful! Redirecting...","success"),_.push("/admin");else{let e=E||"/";_.push(e)}}catch(e){v("An unexpected error occurred"),console.error("Login error:",e)}finally{w(!1)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a(),{children:[(0,r.jsx)("title",{children:"Login - RateMyProf India"}),(0,r.jsx)("meta",{name:"description",content:"Sign in to rate and review professors at Indian universities"})]}),(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(o(),{href:"/",className:"text-3xl font-logo text-indigo-600 hover:text-indigo-700 inline-block",style:{letterSpacing:"0.02em"},children:"RateMyProf"}),(0,r.jsx)("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900 font-heading",children:"Sign in to your account"}),(0,r.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Share your professor experiences and help fellow students"})]}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:(0,r.jsxs)("form",{className:"space-y-6",onSubmit:S,children:[b&&(0,r.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-md text-red-700",children:[(0,r.jsx)(m.Z,{className:"w-5 h-5"}),(0,r.jsx)("span",{className:"text-sm",children:b})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(x.Z,{className:"h-5 w-5 text-gray-400"})}),(0,r.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:e=>t(e.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter your email"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(h.Z,{className:"h-5 w-5 text-gray-400"})}),(0,r.jsx)("input",{id:"password",name:"password",type:l?"text":"password",autoComplete:"current-password",required:!0,value:s,onChange:e=>i(e.target.value),className:"block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter your password"}),(0,r.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>y(!l),children:l?(0,r.jsx)(f.Z,{className:"h-5 w-5 text-gray-400 hover:text-gray-500"}):(0,r.jsx)(g.Z,{className:"h-5 w-5 text-gray-400 hover:text-gray-500"})})]})]}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"submit",disabled:j,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:j?(0,r.jsx)(p.Z,{className:"w-4 h-4 animate-spin"}):"Sign In"})}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,r.jsx)(o(),{href:"/auth/forgot-password",className:"text-indigo-600 hover:text-indigo-500",children:"Forgot your password?"}),(0,r.jsx)(o(),{href:"/auth/signup",className:"text-indigo-600 hover:text-indigo-500",children:"Create account"})]}),(0,r.jsx)("div",{className:"text-center text-sm",children:(0,r.jsx)(o(),{href:"/auth/verify-email",className:"text-gray-500 hover:text-gray-700",children:"Need to verify your email?"})})]})}),(0,r.jsx)("div",{className:"text-center text-xs text-gray-500",children:"By signing in, you agree to help fellow students with honest reviews"})]})})]})}},9008:function(e,t,s){e.exports=s(3867)},1163:function(e,t,s){e.exports=s(3079)}},function(e){e.O(0,[664,888,774,179],function(){return e(e.s=163)}),_N_E=e.O()}]);