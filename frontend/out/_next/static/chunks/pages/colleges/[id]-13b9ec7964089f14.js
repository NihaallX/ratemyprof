(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[303],{1120:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/colleges/[id]",function(){return t(1994)}])},2761:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(3759).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},3488:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(3759).Z)("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]])},2089:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(3759).Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},185:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(3759).Z)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]])},3346:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(3759).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},2591:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(3759).Z)("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]])},3350:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(3759).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},5452:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(3759).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},4270:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(3759).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},6127:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(3759).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},9176:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(3759).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},2933:function(e,s,t){"use strict";var a=t(5893),l=t(7294);s.Z=({rating:e,onRatingChange:s,label:t,description:r,error:i})=>{let[n,c]=(0,l.useState)(0),d=[{value:1,label:"Poor"},{value:2,label:"Fair"},{value:3,label:"Good"},{value:4,label:"Very Good"},{value:5,label:"Awesome"}],o=e=>["bg-red-400","bg-orange-400","bg-yellow-400","bg-green-300","bg-green-500"][e-1],x=s=>n>0?s<=n:s<=e,m=s=>{let t=x(s);return e>0&&s<=e?"opacity-100":t?"opacity-70":"opacity-20"},u=n>0?d[n-1]:e>0?d[e-1]:null;return(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t,(0,a.jsx)("span",{className:"text-red-500 ml-1",children:"*"}),r&&(0,a.jsx)("span",{className:"text-gray-500 text-xs block mt-1",children:r})]}),(0,a.jsx)("div",{className:"flex items-center justify-center mb-3",children:(0,a.jsx)("div",{className:"flex items-center rounded-full overflow-hidden shadow-md",onMouseLeave:()=>c(0),children:d.map((e,t)=>(0,a.jsx)("button",{type:"button",onClick:()=>s(e.value),onMouseEnter:()=>c(e.value),className:`
                relative h-14 w-20
                ${o(e.value)}
                ${m(e.value)}
                ${0===t?"rounded-l-full":""}
                ${t===d.length-1?"rounded-r-full":""}
                transition-all duration-300 ease-in-out
                transform hover:scale-105
                focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500
              `,"aria-label":`Rate ${e.value} - ${e.label}`,children:t<d.length-1&&(0,a.jsx)("div",{className:"absolute right-0 top-1/2 transform -translate-y-1/2 w-px h-8 bg-white opacity-30"})},e.value))})}),(0,a.jsx)("div",{className:"text-center",children:u?(0,a.jsxs)("p",{className:"text-sm text-gray-600 font-medium transition-all duration-200",children:[u.value," - ",u.label]}):(0,a.jsx)("p",{className:"text-sm text-gray-400 italic",children:"Select a rating"})}),i&&(0,a.jsx)("p",{className:"text-red-600 text-xs mt-2 text-center",children:i})]})}},1994:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return A}});var a=t(5893),l=t(7294),r=t(1163),i=t(9008),n=t.n(i),c=t(1664),d=t.n(c),o=t(2761),x=t(3350),m=t(2591),u=t(3346),h=t(3759);let g=(0,h.Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);var b=t(9176),y=t(6127),p=t(3488),f=t(2089),j=t(185);let v=(0,h.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),N=(0,h.Z)("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),w=(0,h.Z)("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);var k=t(4270),_=t(5452);let C=(0,h.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);var Z=t(493),M=t(3765),S=t(2190),D=t(4598),F=t(837),$=t(2933);let E=[{key:"food_rating",label:"Food Quality",icon:"\uD83C\uDF7D️",description:"Quality and variety of food in campus cafeteria"},{key:"internet_rating",label:"Internet Connectivity",icon:"\uD83D\uDCF6",description:"WiFi speed and reliability across campus"},{key:"clubs_rating",label:"Clubs & Activities",icon:"\uD83C\uDFAD",description:"Variety and quality of extracurricular activities"},{key:"opportunities_rating",label:"Career Opportunities",icon:"\uD83D\uDCBC",description:"Internships, placements, and career support"},{key:"facilities_rating",label:"Campus Facilities",icon:"\uD83C\uDFEB",description:"Libraries, labs, sports facilities, and infrastructure"},{key:"teaching_rating",label:"Teaching Quality",icon:"\uD83D\uDC68‍\uD83C\uDFEB",description:"Quality of faculty and teaching methods"},{key:"overall_rating",label:"Overall Experience",icon:"⭐",description:"Your overall satisfaction with the college"}],R=["1st Year","2nd Year","3rd Year","4th Year","5th Year","Graduate","Postgraduate"];function z({collegeId:e,collegeName:s,onClose:t,onSubmit:r}){let{user:i,session:n}=(0,F.a)(),[c,d]=(0,l.useState)({food_rating:0,internet_rating:0,clubs_rating:0,opportunities_rating:0,facilities_rating:0,teaching_rating:0,overall_rating:0,course_name:"",year_of_study:"",graduation_year:"",review_text:""}),[o,x]=(0,l.useState)({}),[m,u]=(0,l.useState)(!1),[h,g]=(0,l.useState)(!i),b=(e,s)=>{d(t=>({...t,[e]:s})),o[e]&&x(s=>({...s,[e]:""}))},y=(e,s)=>{d(t=>({...t,[e]:s})),o[e]&&x(s=>({...s,[e]:""}))},p=()=>{let e={};return E.forEach(s=>{0===c[s.key]&&(e[s.key]=`${s.label} rating is required`)}),c.course_name.trim()||(e.course_name="Course name is required"),c.year_of_study||(e.year_of_study="Year of study is required"),c.review_text.trim()?c.review_text.trim().length<50&&(e.review_text="Review must be at least 50 characters long"):e.review_text="Review text is required",x(e),0===Object.keys(e).length},f=async s=>{if(s.preventDefault(),!i||!n){g(!0);return}if(p()){u(!0);try{let s={college_id:e,ratings:{food:c.food_rating,internet:c.internet_rating,clubs:c.clubs_rating,opportunities:c.opportunities_rating,facilities:c.facilities_rating,teaching:c.teaching_rating,overall:c.overall_rating},course_name:c.course_name,year_of_study:c.year_of_study,graduation_year:c.graduation_year?parseInt(c.graduation_year):null,review_text:c.review_text},a=await fetch("/api/college-reviews",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.access_token}`},body:JSON.stringify(s)});if(a.ok)r(),t();else{let e=await a.json();x({submit:e.detail||"Failed to submit review"})}}catch(e){x({submit:"Network error. Please try again."})}finally{u(!1)}}};return h?(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsx)("div",{className:"bg-white rounded-xl max-w-md w-full",children:(0,a.jsxs)("div",{className:"p-6 text-center",children:[(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)(M.Z,{className:"w-16 h-16 text-orange-500 mx-auto"})}),(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Login Required"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"You need to be logged in to review colleges. This helps us maintain quality and prevent spam."}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)("button",{onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>window.location.href="/login",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Login"})]})]})})}):(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)("div",{className:"sticky top-0 bg-white border-b border-gray-100 p-6 rounded-t-xl",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-xl font-bold text-gray-900",children:["Review ",s]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Share your honest experience to help other students"})]}),(0,a.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,a.jsx)(S.Z,{className:"w-6 h-6"})})]})}),(0,a.jsxs)("form",{onSubmit:f,className:"p-6 space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Rate Your Experience"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:E.map(e=>(0,a.jsx)("div",{children:(0,a.jsx)($.Z,{rating:c[e.key],onRatingChange:s=>b(e.key,s),label:`${e.icon} ${e.label}`,description:e.description,error:o[e.key]})},e.key))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Course Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course/Program *"}),(0,a.jsx)("input",{type:"text",value:c.course_name,onChange:e=>y("course_name",e.target.value),placeholder:"e.g., Computer Science, MBA, B.Tech",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),o.course_name&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.course_name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Year *"}),(0,a.jsxs)("select",{value:c.year_of_study,onChange:e=>y("year_of_study",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,a.jsx)("option",{value:"",children:"Select year"}),R.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]}),o.year_of_study&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.year_of_study})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Graduation Year"}),(0,a.jsx)("input",{type:"number",value:c.graduation_year,onChange:e=>y("graduation_year",e.target.value),placeholder:"e.g., 2024",min:"2000",max:"2030",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Review *"}),(0,a.jsx)("textarea",{value:c.review_text,onChange:e=>y("review_text",e.target.value),placeholder:"Share your detailed experience about the college. What did you like? What could be improved? Your honest feedback helps other students make informed decisions.",rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-1",children:[(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"Minimum 50 characters required"}),(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:[c.review_text.length,"/1000"]})]}),o.review_text&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.review_text})]}),(0,a.jsx)("div",{className:"bg-blue-50 p-4 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)(D.Z,{className:"w-5 h-5 text-blue-600 mt-0.5"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-blue-900",children:"\uD83D\uDD12 All reviews are anonymous by default"}),(0,a.jsx)("p",{className:"text-xs text-blue-700 mt-1",children:"Your identity will never be publicly displayed. Only administrators can see review authors for moderation purposes."})]})]})}),(0,a.jsxs)("div",{className:"flex space-x-3 pt-4 border-t border-gray-100",children:[(0,a.jsx)("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:m,children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:m,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:m?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("span",{children:"Submitting..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Z.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Submit Review"})]})})]}),o.submit&&(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:(0,a.jsx)("p",{className:"text-red-700 text-sm",children:o.submit})})]})]})})}let Y=[{key:"overall",label:"Overall Quality",icon:p.Z,color:"bg-purple-500"},{key:"teaching",label:"Teaching",icon:f.Z,color:"bg-blue-500"},{key:"facilities",label:"Facilities",icon:j.Z,color:"bg-green-500"},{key:"opportunities",label:"Opportunities",icon:v,color:"bg-orange-500"},{key:"clubs",label:"Clubs",icon:b.Z,color:"bg-pink-500"},{key:"internet",label:"Internet",icon:N,color:"bg-cyan-500"},{key:"food",label:"Food",icon:w,color:"bg-yellow-500"}];function q({collegeId:e,collegeName:s,canReview:t,onReviewSubmitted:r}){let[i,n]=(0,l.useState)([]),[c,d]=(0,l.useState)(null),[o,x]=(0,l.useState)(!0),[m,u]=(0,l.useState)(0),[h,g]=(0,l.useState)(!1);(0,l.useEffect)(()=>{y()},[e]);let y=async()=>{try{let s=await fetch(`/api/college-reviews/college/${e}`);if(s.ok){let e=await s.json();n(e.reviews),d(e.average_ratings),u(e.total)}}catch(e){console.error("Failed to fetch college reviews:",e)}finally{x(!1)}},p=e=>e>=4?"bg-green-100 text-green-800 border-green-300":e>=3?"bg-yellow-100 text-yellow-800 border-yellow-300":"bg-red-100 text-red-800 border-red-300",f=e=>e.toFixed(1);return o?(0,a.jsx)("div",{className:"animate-pulse space-y-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-sm border",children:[(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-6"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4",children:[1,2,3,4,5,6,7].map(e=>(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"h-16 bg-gray-200 rounded-lg mb-2"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-full"})]},e))})]})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-2",children:s}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-blue-100",children:[(0,a.jsxs)("span",{className:"text-sm",children:[m," student reviews"]}),c&&(0,a.jsxs)("span",{className:"text-sm",children:["Overall ",f(c.overall),"/5.0"]})]})]}),(0,a.jsxs)("button",{onClick:()=>g(!0),className:"bg-white text-blue-600 px-6 py-3 rounded-lg font-semibold hover:bg-blue-50 transition-colors flex items-center space-x-2 shadow-md",children:[(0,a.jsx)(k.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Rate"})]})]})}),c&&(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4",children:Y.map(e=>{let s=c[e.key],t=e.icon;return(0,a.jsxs)("div",{className:"text-center group hover:scale-105 transition-transform",children:[(0,a.jsx)("div",{className:`${e.color} text-white p-4 rounded-lg mb-2 mx-auto w-16 h-16 flex items-center justify-center shadow-md`,children:(0,a.jsx)(t,{className:"w-6 h-6"})}),(0,a.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-1",children:e.label}),(0,a.jsx)("div",{className:`inline-block px-3 py-1 rounded-full border text-lg font-bold ${p(s)}`,children:f(s)})]},e.key)})}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsxs)("p",{className:"text-gray-600 text-sm",children:["Based on ",m," student review",1!==m?"s":""]})})]}),!c&&(0,a.jsxs)("div",{className:"p-8 text-center",children:[(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)(_.Z,{className:"w-16 h-16 mx-auto text-gray-300"})}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No reviews yet"}),(0,a.jsxs)("p",{className:"text-gray-500 mb-6",children:["Be the first to review ",s,"!"]}),(0,a.jsxs)("button",{onClick:()=>g(!0),className:"bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors flex items-center space-x-2 mx-auto shadow-md",children:[(0,a.jsx)(k.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Write First Review"})]})]})]}),i.length>0&&(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-100",children:(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Reviews"})}),(0,a.jsx)("div",{className:"divide-y divide-gray-100",children:i.slice(0,3).map(e=>(0,a.jsxs)("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:`inline-block px-3 py-1 rounded-full border text-lg font-bold ${p(e.ratings.overall)}`,children:f(e.ratings.overall)}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,a.jsx)("span",{className:"font-medium",children:e.course_name}),(0,a.jsx)("span",{className:"mx-2",children:"•"}),(0,a.jsx)("span",{children:e.year_of_study}),e.graduation_year&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"mx-2",children:"•"}),(0,a.jsxs)("span",{children:["Class of ",e.graduation_year]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[(0,a.jsx)(C,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:new Date(e.created_at).toLocaleDateString()})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-3 mb-4",children:Y.slice(1).map(s=>{let t=e.ratings[s.key];return(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-xs text-gray-600 mb-1",children:s.label}),(0,a.jsx)("div",{className:`inline-block px-2 py-1 rounded text-sm font-medium ${p(t)}`,children:f(t)})]},s.key)})}),e.review_text&&(0,a.jsx)("p",{className:"text-gray-700 mb-4 line-clamp-3",children:e.review_text}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(b.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Anonymous Student"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("span",{children:[e.helpful_count," helpful"]}),(0,a.jsx)(Z.Z,{className:"w-4 h-4 text-green-500"})]})]})]},e.id))}),i.length>3&&(0,a.jsx)("div",{className:"px-6 py-4 border-t border-gray-100 text-center",children:(0,a.jsxs)("button",{className:"text-blue-600 hover:text-blue-700 font-medium",children:["View All ",i.length," Reviews"]})})]}),h&&(0,a.jsx)(z,{collegeId:e,collegeName:s,onClose:()=>g(!1),onSubmit:()=>{y(),r&&r()}})]})}function A(){let{id:e}=(0,r.useRouter)().query,[s,t]=(0,l.useState)(null),[i,c]=(0,l.useState)([]),[h,p]=(0,l.useState)([]),[f,j]=(0,l.useState)(!0),[v,N]=(0,l.useState)(!1),[w,k]=(0,l.useState)("all"),[_,C]=(0,l.useState)([]),[Z,M]=(0,l.useState)("");return((0,l.useEffect)(()=>{N(!!localStorage.getItem("authToken"))},[]),(0,l.useEffect)(()=>{e&&(async()=>{try{j(!0);let s=await fetch(`http://localhost:8000/v1/colleges/${e}`);if(!s.ok){console.error("College not found"),j(!1);return}let a=await s.json();t(a);let l=await fetch(`http://localhost:8000/v1/professors?college_id=${e}&limit=200`);if(l.ok){let e=(await l.json()).professors||[];c(e),p(e);let s=Array.from(new Set(e.map(e=>e.department).filter(e=>!!e)));C(s.sort())}}catch(e){console.error("Error fetching college data:",e)}finally{j(!1)}})()},[e]),(0,l.useEffect)(()=>{"all"===w?p(i):p(i.filter(e=>e.department===w))},[w,i]),(0,l.useEffect)(()=>{let e=i;if("all"!==w&&(e=e.filter(e=>e.department===w)),Z.trim()){let s=Z.toLowerCase();e=e.filter(e=>e.name.toLowerCase().includes(s)||e.department.toLowerCase().includes(s)||e.specialization&&e.specialization.toLowerCase().includes(s))}p(e)},[w,Z,i]),f)?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading college details..."})]})}):s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n(),{children:[(0,a.jsxs)("title",{children:[s.name," - RateMyProf India"]}),(0,a.jsx)("meta",{name:"description",content:`Learn about ${s.name} in ${s.city}, ${s.state}. Find professors, reviews, and more.`})]}),(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-4",children:[(0,a.jsxs)(d(),{href:"/",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-4",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4 mr-2"}),"Back to Search"]}),(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:s.name}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-gray-600 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(x.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:[s.city,", ",s.state]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:s.college_type})]}),s.established_year&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(u.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["Est. ",s.established_year]})]})]})]}),s.website&&(0,a.jsxs)("a",{href:s.website,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,a.jsx)(g,{className:"w-4 h-4"}),"Visit Website"]})]})]})}),(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsx)(q,{collegeId:s.id,collegeName:s.name,canReview:v,onReviewSubmitted:()=>{console.log("Review submitted successfully")}})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg p-6 shadow-sm border",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,a.jsx)(b.Z,{className:"w-6 h-6 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:s.total_professors}),(0,a.jsx)("p",{className:"text-gray-600",children:"Professors"})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg p-6 shadow-sm border",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,a.jsx)(m.Z,{className:"w-6 h-6 text-green-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:s.college_type}),(0,a.jsx)("p",{className:"text-gray-600",children:"Institution Type"})]})]})}),s.established_year&&(0,a.jsx)("div",{className:"bg-white rounded-lg p-6 shadow-sm border",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,a.jsx)(u.Z,{className:"w-6 h-6 text-purple-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-2xl font-bold text-gray-900",children:[new Date().getFullYear()-s.established_year," Years"]}),(0,a.jsx)("p",{className:"text-gray-600",children:"Experience"})]})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm border mb-8",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"College Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),(0,a.jsxs)("p",{className:"text-gray-900",children:[s.city,", ",s.state]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Institution Type"}),(0,a.jsx)("p",{className:"text-gray-900",children:s.college_type})]}),s.established_year&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Established"}),(0,a.jsx)("p",{className:"text-gray-900",children:s.established_year})]}),s.email_domain&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Domain"}),(0,a.jsxs)("p",{className:"text-gray-900 font-mono",children:["@",s.email_domain]})]}),s.website&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Official Website"}),(0,a.jsx)("a",{href:s.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 underline",children:s.website})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm border",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-gray-900",children:["Professors (",h.length,")"]}),(0,a.jsx)(d(),{href:`/professors/add?college_id=${s.id}`,className:"text-sm text-white px-4 py-2 rounded-md font-medium hover:opacity-90 transition-opacity",style:{backgroundColor:"#4e46e5"},children:"Add Professor"})]}),(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(y.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,a.jsx)("input",{type:"text",placeholder:"Search professors by name, department, or specialization...",value:Z,onChange:e=>M(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),Z&&(0,a.jsx)("button",{onClick:()=>M(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:"✕"})]})}),_.length>1&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"department-filter",className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Department"}),(0,a.jsxs)("select",{id:"department-filter",value:w,onChange:e=>k(e.target.value),className:"w-full md:w-64 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,a.jsxs)("option",{value:"all",children:["All Departments (",i.length,")"]}),_.map(e=>(0,a.jsxs)("option",{value:e,children:[e," (",i.filter(s=>s.department===e).length,")"]},e))]})]}),0===h.length?(0,a.jsx)("p",{className:"text-gray-600",children:Z||"all"!==w?"No professors found matching your search criteria.":"No professors found for this college."}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(e=>(0,a.jsxs)(d(),{href:`/professors/${e.id}`,className:"block p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-all",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.department}),e.specialization&&(0,a.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:e.specialization}),e.average_rating&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"text-sm font-medium text-yellow-600",children:["⭐ ",e.average_rating.toFixed(1)]}),e.total_reviews&&(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:["(",e.total_reviews," reviews)"]})]})]},e.id))})]})]})]})]}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"College Not Found"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"The college you're looking for doesn't exist."}),(0,a.jsx)(d(),{href:"/",className:"text-blue-600 hover:underline",children:"Return to Home"})]})})}},9008:function(e,s,t){e.exports=t(3867)},1163:function(e,s,t){e.exports=t(3079)}},function(e){e.O(0,[664,888,774,179],function(){return e(e.s=1120)}),_N_E=e.O()}]);