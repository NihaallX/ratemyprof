(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[303],{1120:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/colleges/[id]",function(){return s(870)}])},3488:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(3759).Z)("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]])},2591:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(3759).Z)("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]])},3350:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(3759).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},5452:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(3759).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},4270:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(3759).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},6127:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(3759).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},9176:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(3759).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},2933:function(e,a,s){"use strict";var t=s(5893),r=s(7294);a.Z=({rating:e,onRatingChange:a,label:s,description:l,error:i})=>{let[o,n]=(0,r.useState)(0),d=[{value:1,label:"Poor"},{value:2,label:"Fair"},{value:3,label:"Good"},{value:4,label:"Very Good"},{value:5,label:"Awesome"}],c=e=>["bg-red-400","bg-orange-400","bg-yellow-400","bg-green-300","bg-green-500"][e-1],x=a=>o>0?a<=o:a<=e,m=a=>{let s=x(a);return e>0&&a<=e?"opacity-100":s?"opacity-70":"opacity-20"},b=o>0?d[o-1]:e>0?d[e-1]:null;return(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s,(0,t.jsx)("span",{className:"text-red-500 ml-1",children:"*"}),l&&(0,t.jsx)("span",{className:"text-gray-500 text-xs block mt-1",children:l})]}),(0,t.jsx)("div",{className:"flex items-center justify-center mb-3",children:(0,t.jsx)("div",{className:"flex items-center rounded-full overflow-hidden shadow-md",onMouseLeave:()=>n(0),children:d.map((e,s)=>(0,t.jsx)("button",{type:"button",onClick:()=>a(e.value),onMouseEnter:()=>n(e.value),className:`
                relative h-14 w-20
                ${c(e.value)}
                ${m(e.value)}
                ${0===s?"rounded-l-full":""}
                ${s===d.length-1?"rounded-r-full":""}
                transition-all duration-300 ease-in-out
                transform hover:scale-105
                focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500
              `,"aria-label":`Rate ${e.value} - ${e.label}`,children:s<d.length-1&&(0,t.jsx)("div",{className:"absolute right-0 top-1/2 transform -translate-y-1/2 w-px h-8 bg-white opacity-30"})},e.value))})}),(0,t.jsx)("div",{className:"text-center",children:b?(0,t.jsxs)("p",{className:"text-sm text-gray-600 font-medium transition-all duration-200",children:[b.value," - ",b.label]}):(0,t.jsx)("p",{className:"text-sm text-gray-400 italic",children:"Select a rating"})}),i&&(0,t.jsx)("p",{className:"text-red-600 text-xs mt-2 text-center",children:i})]})}},870:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return W}});var t=s(5893),r=s(7294),l=s(1163),i=s(9008),o=s.n(i),n=s(1664),d=s.n(n),c=s(2761),x=s(3350),m=s(2591),b=s(3346),f=s(3759);let h=(0,f.Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);var g=s(9176),u=s(6127),p=s(9),y=s.n(p),j=s(3488),w=s(2089),v=s(185);let N=(0,f.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),k=(0,f.Z)("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),_=(0,f.Z)("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);var C=s(4270),$=s(5452);let S=(0,f.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);var Z=s(2099),F=s(9683),z=s(4795),D=s(493),M=s(3765),R=s(2190),T=s(4598),A=s(837),E=s(2933),O=s(5871);let P=[{key:"food_rating",label:"Food Quality",icon:"\uD83C\uDF7D️",description:"Quality and variety of food in campus cafeteria"},{key:"internet_rating",label:"Internet Connectivity",icon:"\uD83D\uDCF6",description:"WiFi speed and reliability across campus"},{key:"clubs_rating",label:"Clubs & Activities",icon:"\uD83C\uDFAD",description:"Variety and quality of extracurricular activities"},{key:"opportunities_rating",label:"Career Opportunities",icon:"\uD83D\uDCBC",description:"Internships, placements, and career support"},{key:"facilities_rating",label:"Campus Facilities",icon:"\uD83C\uDFEB",description:"Libraries, labs, sports facilities, and infrastructure"},{key:"teaching_rating",label:"Teaching Quality",icon:"\uD83D\uDC68‍\uD83C\uDFEB",description:"Quality of faculty and teaching methods"},{key:"overall_rating",label:"Overall Experience",icon:"⭐",description:"Your overall satisfaction with the college"}],I=["1st Year","2nd Year","3rd Year","4th Year","5th Year","Graduate","Postgraduate"];function Y({collegeId:e,collegeName:a,onClose:s,onSubmit:l}){let{user:i,session:o}=(0,A.a)(),[n,d]=(0,r.useState)({food_rating:0,internet_rating:0,clubs_rating:0,opportunities_rating:0,facilities_rating:0,teaching_rating:0,overall_rating:0,course_name:"",year_of_study:"",graduation_year:"",review_text:""}),[c,x]=(0,r.useState)({}),[m,b]=(0,r.useState)(!1),[f,h]=(0,r.useState)(!i),g=(e,a)=>{d(s=>({...s,[e]:a})),c[e]&&x(a=>({...a,[e]:""}))},u=(e,a)=>{d(s=>({...s,[e]:a})),c[e]&&x(a=>({...a,[e]:""}))},p=()=>{let e={};return P.forEach(a=>{0===n[a.key]&&(e[a.key]=`${a.label} rating is required`)}),n.course_name.trim()||(e.course_name="Course name is required"),n.year_of_study||(e.year_of_study="Year of study is required"),n.review_text.trim()?n.review_text.trim().length<50&&(e.review_text="Review must be at least 50 characters long"):e.review_text="Review text is required",x(e),0===Object.keys(e).length},y=async a=>{if(a.preventDefault(),!i||!o){h(!0);return}if(p()){b(!0);try{let a={college_id:e,ratings:{food:n.food_rating,internet:n.internet_rating,clubs:n.clubs_rating,opportunities:n.opportunities_rating,facilities:n.facilities_rating,teaching:n.teaching_rating,overall:n.overall_rating},course_name:n.course_name,year_of_study:n.year_of_study,graduation_year:n.graduation_year?parseInt(n.graduation_year):null,review_text:n.review_text},t=await fetch(`${O.CT}/college-reviews`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o.access_token}`},body:JSON.stringify(a)});if(t.ok)l(),s();else{let e=await t.json();x({submit:e.detail||"Failed to submit review"})}}catch(e){x({submit:"Network error. Please try again."})}finally{b(!1)}}};return f?(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,t.jsx)("div",{className:"bg-white rounded-xl max-w-md w-full",children:(0,t.jsxs)("div",{className:"p-6 text-center",children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)(M.Z,{className:"w-16 h-16 text-orange-500 mx-auto"})}),(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Login Required"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"You need to be logged in to review colleges. This helps us maintain quality and prevent spam."}),(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsx)("button",{onClick:s,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>window.location.href="/login",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Login"})]})]})})}):(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)("div",{className:"sticky top-0 bg-white border-b border-gray-100 p-6 rounded-t-xl",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-gray-900",children:["Review ",a]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Share your honest experience to help other students"})]}),(0,t.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,t.jsx)(R.Z,{className:"w-6 h-6"})})]})}),(0,t.jsxs)("form",{onSubmit:y,className:"p-6 space-y-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Rate Your Experience"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:P.map(e=>(0,t.jsx)("div",{children:(0,t.jsx)(E.Z,{rating:n[e.key],onRatingChange:a=>g(e.key,a),label:`${e.icon} ${e.label}`,description:e.description,error:c[e.key]})},e.key))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Course Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course/Program *"}),(0,t.jsx)("input",{type:"text",value:n.course_name,onChange:e=>u("course_name",e.target.value),placeholder:"e.g., Computer Science, MBA, B.Tech",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),c.course_name&&(0,t.jsx)("p",{className:"text-red-500 text-xs mt-1",children:c.course_name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Year *"}),(0,t.jsxs)("select",{value:n.year_of_study,onChange:e=>u("year_of_study",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,t.jsx)("option",{value:"",children:"Select year"}),I.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),c.year_of_study&&(0,t.jsx)("p",{className:"text-red-500 text-xs mt-1",children:c.year_of_study})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Graduation Year"}),(0,t.jsx)("input",{type:"number",value:n.graduation_year,onChange:e=>u("graduation_year",e.target.value),placeholder:"e.g., 2024",min:"2000",max:"2030",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Review *"}),(0,t.jsx)("textarea",{value:n.review_text,onChange:e=>u("review_text",e.target.value),placeholder:"Share your detailed experience about the college. What did you like? What could be improved? Your honest feedback helps other students make informed decisions.",rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,t.jsxs)("div",{className:"flex justify-between items-center mt-1",children:[(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"Minimum 50 characters required"}),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:[n.review_text.length,"/1000"]})]}),c.review_text&&(0,t.jsx)("p",{className:"text-red-500 text-xs mt-1",children:c.review_text})]}),(0,t.jsx)("div",{className:"bg-blue-50 p-4 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)(T.Z,{className:"w-5 h-5 text-blue-600 mt-0.5"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-blue-900",children:"\uD83D\uDD12 All reviews are anonymous by default"}),(0,t.jsx)("p",{className:"text-xs text-blue-700 mt-1",children:"Your identity will never be publicly displayed. Only administrators can see review authors for moderation purposes."})]})]})}),(0,t.jsxs)("div",{className:"flex space-x-3 pt-4 border-t border-gray-100",children:[(0,t.jsx)("button",{type:"button",onClick:s,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:m,children:"Cancel"}),(0,t.jsx)("button",{type:"submit",disabled:m,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:m?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,t.jsx)("span",{children:"Submitting..."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(D.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Submit Review"})]})})]}),c.submit&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:(0,t.jsx)("p",{className:"text-red-700 text-sm",children:c.submit})})]})]})})}let L=[{key:"overall",label:"Overall Quality",icon:j.Z,color:"bg-purple-500"},{key:"teaching",label:"Teaching",icon:w.Z,color:"bg-blue-500"},{key:"facilities",label:"Facilities",icon:v.Z,color:"bg-green-500"},{key:"opportunities",label:"Opportunities",icon:N,color:"bg-orange-500"},{key:"clubs",label:"Clubs",icon:g.Z,color:"bg-pink-500"},{key:"internet",label:"Internet",icon:k,color:"bg-cyan-500"},{key:"food",label:"Food",icon:_,color:"bg-yellow-500"}];function q({collegeId:e,collegeName:a,canReview:s,onReviewSubmitted:l}){let{session:i,user:o}=(0,A.a)(),[n,d]=(0,r.useState)([]),[c,x]=(0,r.useState)(null),[m,b]=(0,r.useState)(!0),[f,h]=(0,r.useState)(0),[u,p]=(0,r.useState)(!1),[j,w]=(0,r.useState)(!1),[v,N]=(0,r.useState)(null),[k,_]=(0,r.useState)("spam"),[M,R]=(0,r.useState)(""),[T,E]=(0,r.useState)(!1),[P,I]=(0,r.useState)(null),[q,B]=(0,r.useState)(new Set);(0,r.useEffect)(()=>{W()},[e]);let W=async()=>{try{let a=await fetch(`${O.CT}/college-reviews/college/${e}`);if(a.ok){let e=await a.json(),s=(e.reviews||[]).map(e=>({...e,helpful_count:e.helpful_count??0,not_helpful_count:e.not_helpful_count??0,user_vote:e.user_vote??null}));d(s),x(e.average_ratings),h(e.total)}}catch(e){console.error("Failed to fetch college reviews:",e)}finally{b(!1)}},V=async()=>{if(v){if(!i?.access_token){alert("Please log in to flag reviews"),w(!1);return}E(!0);try{let e=await fetch(`${O.CT}/college-review-moderation/flag`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i.access_token}`},body:JSON.stringify({college_review_id:v,flag_type:k,reason:M})});if(e.ok)alert("✅ Review flagged successfully!\n\nOur moderators will review it shortly. Thank you for helping keep our community safe."),w(!1),N(null),_("spam"),R("");else if(409===e.status)alert("⚠️ Already Flagged\n\nYou have already flagged this review. Our moderators are reviewing it."),w(!1);else{let a=await e.json(),s=a.detail||a.error||"Unknown error";alert(`❌ Failed to flag review

${s}`)}}catch(e){console.error("Failed to flag review:",e),alert("❌ Network Error\n\nFailed to flag review. Please check your connection and try again.")}finally{E(!1)}}},G=e=>{N(e),w(!0)},Q=async(e,a)=>{if(q.has(e))return;if(!i?.access_token){alert("Please log in to vote on reviews");return}let s=n.find(a=>a.id===e);if(!s)return;B(a=>new Set(a).add(e)),I({reviewId:e,type:a}),setTimeout(()=>I(null),500);let t=s.user_vote,r=s.helpful_count??0,l=s.not_helpful_count??0,o=r,c=l,x=null;t===a?(x=null,"helpful"===a?o=Math.max(0,r-1):c=Math.max(0,l-1)):(x=a,null===t?"helpful"===a?o=r+1:c=l+1:"helpful"===a?(c=Math.max(0,l-1),o=r+1):(o=Math.max(0,r-1),c=l+1)),d(a=>a.map(a=>a.id===e?{...a,helpful_count:o,not_helpful_count:c,user_vote:x}:a));try{let s=await fetch(`${O.CT}/college-reviews/${e}/vote`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i.access_token}`},body:JSON.stringify({vote_type:a})});if(s.ok){let a=await s.json();d(s=>s.map(s=>s.id===e?{...s,helpful_count:a.helpful_count??0,not_helpful_count:a.not_helpful_count??0,user_vote:a.user_vote??null}:s))}else{d(a=>a.map(a=>a.id===e?{...a,helpful_count:r,not_helpful_count:l,user_vote:t}:a));let a=await s.json().catch(()=>({})),i=a.detail||a.error||"Failed to vote";console.error("Vote error:",i)}}catch(a){console.error("Failed to vote:",a),d(a=>a.map(a=>a.id===e?{...a,helpful_count:r,not_helpful_count:l,user_vote:t}:a))}finally{setTimeout(()=>{B(a=>{let s=new Set(a);return s.delete(e),s})},200)}},H=e=>e>=4?"bg-green-100 text-green-800 border-green-300":e>=3?"bg-yellow-100 text-yellow-800 border-yellow-300":"bg-red-100 text-red-800 border-red-300",U=e=>e.toFixed(1);return m?(0,t.jsx)("div",{className:"animate-pulse space-y-6",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-sm border",children:[(0,t.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-6"}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4",children:[1,2,3,4,5,6,7].map(e=>(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"h-16 bg-gray-200 rounded-lg mb-2"}),(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-full"})]},e))})]})}):(0,t.jsxs)("div",{className:"jsx-d50bfabeab9055b9 space-y-6",children:[(0,t.jsxs)("div",{className:"jsx-d50bfabeab9055b9 bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[(0,t.jsx)("div",{className:"jsx-d50bfabeab9055b9 bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6",children:(0,t.jsxs)("div",{className:"jsx-d50bfabeab9055b9 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"jsx-d50bfabeab9055b9",children:[(0,t.jsx)("h2",{className:"jsx-d50bfabeab9055b9 text-2xl font-bold mb-2",children:a}),(0,t.jsxs)("div",{className:"jsx-d50bfabeab9055b9 flex items-center space-x-4 text-blue-100",children:[(0,t.jsxs)("span",{className:"jsx-d50bfabeab9055b9 text-sm",children:[f," student reviews"]}),c&&(0,t.jsxs)("span",{className:"jsx-d50bfabeab9055b9 text-sm",children:["Overall ",U(c.overall),"/5.0"]})]})]}),(0,t.jsxs)("button",{onClick:()=>p(!0),className:"jsx-d50bfabeab9055b9 bg-white text-blue-600 px-6 py-3 rounded-lg font-semibold hover:bg-blue-50 transition-colors flex items-center space-x-2 shadow-md",children:[(0,t.jsx)(C.Z,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"jsx-d50bfabeab9055b9",children:"Rate"})]})]})}),c&&(0,t.jsxs)("div",{className:"jsx-d50bfabeab9055b9 p-6",children:[(0,t.jsx)("div",{className:"jsx-d50bfabeab9055b9 grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4",children:L.map(e=>{let a=c[e.key],s=e.icon;return(0,t.jsxs)("div",{className:"jsx-d50bfabeab9055b9 text-center group hover:scale-105 transition-transform",children:[(0,t.jsx)("div",{className:`jsx-d50bfabeab9055b9 ${e.color} text-white p-4 rounded-lg mb-2 mx-auto w-16 h-16 flex items-center justify-center shadow-md`,children:(0,t.jsx)(s,{className:"jsx-d50bfabeab9055b9 w-6 h-6"})}),(0,t.jsx)("div",{className:"jsx-d50bfabeab9055b9 text-sm font-medium text-gray-700 mb-1",children:e.label}),(0,t.jsx)("div",{className:`jsx-d50bfabeab9055b9 inline-block px-3 py-1 rounded-full border text-lg font-bold ${H(a)}`,children:U(a)})]},e.key)})}),(0,t.jsx)("div",{className:"jsx-d50bfabeab9055b9 mt-6 text-center",children:(0,t.jsxs)("p",{className:"jsx-d50bfabeab9055b9 text-gray-600 text-sm",children:["Based on ",f," student review",1!==f?"s":""]})})]}),!c&&(0,t.jsxs)("div",{className:"jsx-d50bfabeab9055b9 p-8 text-center",children:[(0,t.jsx)("div",{className:"jsx-d50bfabeab9055b9 mb-4",children:(0,t.jsx)($.Z,{className:"w-16 h-16 mx-auto text-gray-300"})}),(0,t.jsx)("h3",{className:"jsx-d50bfabeab9055b9 text-xl font-semibold text-gray-700 mb-2",children:"No reviews yet"}),(0,t.jsxs)("p",{className:"jsx-d50bfabeab9055b9 text-gray-500 mb-6",children:["Be the first to review ",a,"!"]}),(0,t.jsxs)("button",{onClick:()=>p(!0),className:"jsx-d50bfabeab9055b9 bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors flex items-center space-x-2 mx-auto shadow-md",children:[(0,t.jsx)(C.Z,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"jsx-d50bfabeab9055b9",children:"Write First Review"})]})]})]}),n.length>0&&(0,t.jsxs)("div",{className:"jsx-d50bfabeab9055b9 bg-white rounded-xl shadow-sm border border-gray-100",children:[(0,t.jsx)("div",{className:"jsx-d50bfabeab9055b9 px-6 py-4 border-b border-gray-100",children:(0,t.jsx)("h3",{className:"jsx-d50bfabeab9055b9 text-lg font-semibold text-gray-900",children:"Recent Reviews"})}),(0,t.jsx)("div",{className:"jsx-d50bfabeab9055b9 divide-y divide-gray-100",children:n.slice(0,3).map(e=>(0,t.jsxs)("div",{className:"jsx-d50bfabeab9055b9 p-6 hover:bg-gray-50 transition-colors",children:[(0,t.jsxs)("div",{className:"jsx-d50bfabeab9055b9 flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"jsx-d50bfabeab9055b9 flex items-center space-x-4",children:[(0,t.jsx)("div",{className:`jsx-d50bfabeab9055b9 inline-block px-3 py-1 rounded-full border text-lg font-bold ${H(e.ratings.overall)}`,children:U(e.ratings.overall)}),(0,t.jsxs)("div",{className:"jsx-d50bfabeab9055b9 text-sm text-gray-600",children:[(0,t.jsx)("span",{className:"jsx-d50bfabeab9055b9 font-medium",children:e.course_name}),(0,t.jsx)("span",{className:"jsx-d50bfabeab9055b9 mx-2",children:"•"}),(0,t.jsx)("span",{className:"jsx-d50bfabeab9055b9",children:e.year_of_study}),e.graduation_year&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"jsx-d50bfabeab9055b9 mx-2",children:"•"}),(0,t.jsxs)("span",{className:"jsx-d50bfabeab9055b9",children:["Class of ",e.graduation_year]})]})]})]}),(0,t.jsxs)("div",{className:"jsx-d50bfabeab9055b9 flex items-center space-x-2 text-sm text-gray-500",children:[(0,t.jsx)(S,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"jsx-d50bfabeab9055b9",children:new Date(e.created_at).toLocaleDateString()})]})]}),(0,t.jsx)("div",{className:"jsx-d50bfabeab9055b9 grid grid-cols-3 md:grid-cols-6 gap-3 mb-4",children:L.slice(1).map(a=>{let s=e.ratings[a.key];return(0,t.jsxs)("div",{className:"jsx-d50bfabeab9055b9 text-center",children:[(0,t.jsx)("div",{className:"jsx-d50bfabeab9055b9 text-xs text-gray-600 mb-1",children:a.label}),(0,t.jsx)("div",{className:`jsx-d50bfabeab9055b9 inline-block px-2 py-1 rounded text-sm font-medium ${H(s)}`,children:U(s)})]},a.key)})}),e.review_text&&(0,t.jsx)("p",{className:"jsx-d50bfabeab9055b9 text-gray-700 mb-4 line-clamp-3",children:e.review_text}),(0,t.jsxs)("div",{className:"jsx-d50bfabeab9055b9 flex items-center justify-between text-sm text-gray-500",children:[(0,t.jsxs)("div",{className:"jsx-d50bfabeab9055b9 flex items-center space-x-2",children:[(0,t.jsx)(g.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"jsx-d50bfabeab9055b9",children:"Anonymous Student"})]}),(0,t.jsxs)("div",{className:"jsx-d50bfabeab9055b9 flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"jsx-d50bfabeab9055b9 flex items-center space-x-3",children:[(0,t.jsxs)("button",{onClick:()=>Q(e.id,"helpful"),title:"Mark as helpful",className:`jsx-d50bfabeab9055b9 flex items-center space-x-1 transition-all duration-200 transform hover:scale-110 ${"helpful"===e.user_vote?"text-green-600 font-medium":"text-gray-400 hover:text-green-600"}`,children:[(0,t.jsx)(Z.Z,{className:`w-4 h-4 transition-transform ${P?.reviewId===e.id&&P?.type==="helpful"?"animate-upvote-pop":""}`}),(0,t.jsx)("span",{className:"jsx-d50bfabeab9055b9",children:e.helpful_count??0})]}),(0,t.jsxs)("button",{onClick:()=>Q(e.id,"not_helpful"),title:"Mark as not helpful",className:`jsx-d50bfabeab9055b9 flex items-center space-x-1 transition-all duration-200 transform hover:scale-110 ${"not_helpful"===e.user_vote?"text-red-600 font-medium":"text-gray-400 hover:text-red-600"}`,children:[(0,t.jsx)(F.Z,{className:`w-4 h-4 transition-transform ${P?.reviewId===e.id&&P?.type==="not_helpful"?"animate-downvote-shake":""}`}),(0,t.jsx)("span",{className:"jsx-d50bfabeab9055b9",children:e.not_helpful_count??0})]})]}),(0,t.jsxs)("button",{onClick:()=>G(e.id),title:"Flag this review",className:"jsx-d50bfabeab9055b9 flex items-center space-x-1 text-gray-400 hover:text-red-600 transition-colors",children:[(0,t.jsx)(z.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"jsx-d50bfabeab9055b9",children:"Flag"})]}),(0,t.jsx)(D.Z,{className:"w-4 h-4 text-green-500"})]})]})]},e.id))}),n.length>3&&(0,t.jsx)("div",{className:"jsx-d50bfabeab9055b9 px-6 py-4 border-t border-gray-100 text-center",children:(0,t.jsxs)("button",{className:"jsx-d50bfabeab9055b9 text-blue-600 hover:text-blue-700 font-medium",children:["View All ",n.length," Reviews"]})})]}),u&&(0,t.jsx)(Y,{collegeId:e,collegeName:a,onClose:()=>p(!1),onSubmit:()=>{W(),l&&l()}}),j&&(0,t.jsx)("div",{className:"jsx-d50bfabeab9055b9 fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,t.jsx)("div",{className:"jsx-d50bfabeab9055b9 bg-white rounded-lg shadow-xl max-w-md w-full",children:(0,t.jsxs)("div",{className:"jsx-d50bfabeab9055b9 p-6",children:[(0,t.jsxs)("div",{className:"jsx-d50bfabeab9055b9 flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"jsx-d50bfabeab9055b9 text-xl font-bold text-gray-900",children:"Flag Review"}),(0,t.jsx)("button",{onClick:()=>{w(!1),N(null),_("spam"),R("")},className:"jsx-d50bfabeab9055b9 text-gray-400 hover:text-gray-600",children:"✕"})]}),(0,t.jsxs)("div",{className:"jsx-d50bfabeab9055b9 space-y-4",children:[(0,t.jsxs)("div",{className:"jsx-d50bfabeab9055b9",children:[(0,t.jsx)("label",{className:"jsx-d50bfabeab9055b9 block text-sm font-medium text-gray-700 mb-2",children:"Reason for flagging"}),(0,t.jsxs)("select",{value:k,onChange:e=>_(e.target.value),className:"jsx-d50bfabeab9055b9 w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,t.jsx)("option",{value:"spam",className:"jsx-d50bfabeab9055b9",children:"Spam"}),(0,t.jsx)("option",{value:"fake",className:"jsx-d50bfabeab9055b9",children:"Fake Review"}),(0,t.jsx)("option",{value:"offensive",className:"jsx-d50bfabeab9055b9",children:"Offensive Content"}),(0,t.jsx)("option",{value:"other",className:"jsx-d50bfabeab9055b9",children:"Other"})]})]}),(0,t.jsxs)("div",{className:"jsx-d50bfabeab9055b9",children:[(0,t.jsx)("label",{className:"jsx-d50bfabeab9055b9 block text-sm font-medium text-gray-700 mb-2",children:"Additional details (optional)"}),(0,t.jsx)("textarea",{value:M,onChange:e=>R(e.target.value),placeholder:"Please provide any additional context...",rows:3,className:"jsx-d50bfabeab9055b9 w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{className:"jsx-d50bfabeab9055b9 flex space-x-3",children:[(0,t.jsx)("button",{onClick:()=>{w(!1),N(null),_("spam"),R("")},disabled:T,className:"jsx-d50bfabeab9055b9 flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,t.jsx)("button",{onClick:V,disabled:T,className:"jsx-d50bfabeab9055b9 flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:T?"Submitting...":"Flag Review"})]})]})]})})}),(0,t.jsx)(y(),{id:"d50bfabeab9055b9",children:"@-webkit-keyframes upvote-pop{0%{-webkit-transform:scale(1)translatey(0);transform:scale(1)translatey(0);-webkit-filter:drop-shadow(0 0 0 rgba(34,197,94,0));filter:drop-shadow(0 0 0 rgba(34,197,94,0))}25%{-webkit-transform:scale(1.3)translatey(-4px);transform:scale(1.3)translatey(-4px);-webkit-filter:drop-shadow(0 0 8px rgba(34,197,94,.8));filter:drop-shadow(0 0 8px rgba(34,197,94,.8))}50%{-webkit-transform:scale(1.4)translatey(-6px);transform:scale(1.4)translatey(-6px);-webkit-filter:drop-shadow(0 2px 12px rgba(34,197,94,1));filter:drop-shadow(0 2px 12px rgba(34,197,94,1))}75%{-webkit-transform:scale(1.1)translatey(-2px);transform:scale(1.1)translatey(-2px);-webkit-filter:drop-shadow(0 0 6px rgba(34,197,94,.6));filter:drop-shadow(0 0 6px rgba(34,197,94,.6))}100%{-webkit-transform:scale(1)translatey(0);transform:scale(1)translatey(0);-webkit-filter:drop-shadow(0 0 0 rgba(34,197,94,0));filter:drop-shadow(0 0 0 rgba(34,197,94,0))}}@-moz-keyframes upvote-pop{0%{-moz-transform:scale(1)translatey(0);transform:scale(1)translatey(0);filter:drop-shadow(0 0 0 rgba(34,197,94,0))}25%{-moz-transform:scale(1.3)translatey(-4px);transform:scale(1.3)translatey(-4px);filter:drop-shadow(0 0 8px rgba(34,197,94,.8))}50%{-moz-transform:scale(1.4)translatey(-6px);transform:scale(1.4)translatey(-6px);filter:drop-shadow(0 2px 12px rgba(34,197,94,1))}75%{-moz-transform:scale(1.1)translatey(-2px);transform:scale(1.1)translatey(-2px);filter:drop-shadow(0 0 6px rgba(34,197,94,.6))}100%{-moz-transform:scale(1)translatey(0);transform:scale(1)translatey(0);filter:drop-shadow(0 0 0 rgba(34,197,94,0))}}@-o-keyframes upvote-pop{0%{-o-transform:scale(1)translatey(0);transform:scale(1)translatey(0);filter:drop-shadow(0 0 0 rgba(34,197,94,0))}25%{-o-transform:scale(1.3)translatey(-4px);transform:scale(1.3)translatey(-4px);filter:drop-shadow(0 0 8px rgba(34,197,94,.8))}50%{-o-transform:scale(1.4)translatey(-6px);transform:scale(1.4)translatey(-6px);filter:drop-shadow(0 2px 12px rgba(34,197,94,1))}75%{-o-transform:scale(1.1)translatey(-2px);transform:scale(1.1)translatey(-2px);filter:drop-shadow(0 0 6px rgba(34,197,94,.6))}100%{-o-transform:scale(1)translatey(0);transform:scale(1)translatey(0);filter:drop-shadow(0 0 0 rgba(34,197,94,0))}}@keyframes upvote-pop{0%{-webkit-transform:scale(1)translatey(0);-moz-transform:scale(1)translatey(0);-o-transform:scale(1)translatey(0);transform:scale(1)translatey(0);-webkit-filter:drop-shadow(0 0 0 rgba(34,197,94,0));filter:drop-shadow(0 0 0 rgba(34,197,94,0))}25%{-webkit-transform:scale(1.3)translatey(-4px);-moz-transform:scale(1.3)translatey(-4px);-o-transform:scale(1.3)translatey(-4px);transform:scale(1.3)translatey(-4px);-webkit-filter:drop-shadow(0 0 8px rgba(34,197,94,.8));filter:drop-shadow(0 0 8px rgba(34,197,94,.8))}50%{-webkit-transform:scale(1.4)translatey(-6px);-moz-transform:scale(1.4)translatey(-6px);-o-transform:scale(1.4)translatey(-6px);transform:scale(1.4)translatey(-6px);-webkit-filter:drop-shadow(0 2px 12px rgba(34,197,94,1));filter:drop-shadow(0 2px 12px rgba(34,197,94,1))}75%{-webkit-transform:scale(1.1)translatey(-2px);-moz-transform:scale(1.1)translatey(-2px);-o-transform:scale(1.1)translatey(-2px);transform:scale(1.1)translatey(-2px);-webkit-filter:drop-shadow(0 0 6px rgba(34,197,94,.6));filter:drop-shadow(0 0 6px rgba(34,197,94,.6))}100%{-webkit-transform:scale(1)translatey(0);-moz-transform:scale(1)translatey(0);-o-transform:scale(1)translatey(0);transform:scale(1)translatey(0);-webkit-filter:drop-shadow(0 0 0 rgba(34,197,94,0));filter:drop-shadow(0 0 0 rgba(34,197,94,0))}}@-webkit-keyframes downvote-shake{0%{-webkit-transform:scale(1)rotate(0deg);transform:scale(1)rotate(0deg);-webkit-filter:drop-shadow(0 0 0 rgba(239,68,68,0));filter:drop-shadow(0 0 0 rgba(239,68,68,0))}15%{-webkit-transform:scale(1.2)rotate(-5deg);transform:scale(1.2)rotate(-5deg);-webkit-filter:drop-shadow(0 0 8px rgba(239,68,68,.8));filter:drop-shadow(0 0 8px rgba(239,68,68,.8))}30%{-webkit-transform:scale(1.3)rotate(5deg);transform:scale(1.3)rotate(5deg);-webkit-filter:drop-shadow(0 2px 10px rgba(239,68,68,1));filter:drop-shadow(0 2px 10px rgba(239,68,68,1))}45%{-webkit-transform:scale(1.2)rotate(-3deg);transform:scale(1.2)rotate(-3deg);-webkit-filter:drop-shadow(0 0 8px rgba(239,68,68,.8));filter:drop-shadow(0 0 8px rgba(239,68,68,.8))}60%{-webkit-transform:scale(1.1)rotate(2deg);transform:scale(1.1)rotate(2deg);-webkit-filter:drop-shadow(0 0 6px rgba(239,68,68,.6));filter:drop-shadow(0 0 6px rgba(239,68,68,.6))}75%{-webkit-transform:scale(1.05)rotate(-1deg);transform:scale(1.05)rotate(-1deg);-webkit-filter:drop-shadow(0 0 4px rgba(239,68,68,.4));filter:drop-shadow(0 0 4px rgba(239,68,68,.4))}100%{-webkit-transform:scale(1)rotate(0deg);transform:scale(1)rotate(0deg);-webkit-filter:drop-shadow(0 0 0 rgba(239,68,68,0));filter:drop-shadow(0 0 0 rgba(239,68,68,0))}}@-moz-keyframes downvote-shake{0%{-moz-transform:scale(1)rotate(0deg);transform:scale(1)rotate(0deg);filter:drop-shadow(0 0 0 rgba(239,68,68,0))}15%{-moz-transform:scale(1.2)rotate(-5deg);transform:scale(1.2)rotate(-5deg);filter:drop-shadow(0 0 8px rgba(239,68,68,.8))}30%{-moz-transform:scale(1.3)rotate(5deg);transform:scale(1.3)rotate(5deg);filter:drop-shadow(0 2px 10px rgba(239,68,68,1))}45%{-moz-transform:scale(1.2)rotate(-3deg);transform:scale(1.2)rotate(-3deg);filter:drop-shadow(0 0 8px rgba(239,68,68,.8))}60%{-moz-transform:scale(1.1)rotate(2deg);transform:scale(1.1)rotate(2deg);filter:drop-shadow(0 0 6px rgba(239,68,68,.6))}75%{-moz-transform:scale(1.05)rotate(-1deg);transform:scale(1.05)rotate(-1deg);filter:drop-shadow(0 0 4px rgba(239,68,68,.4))}100%{-moz-transform:scale(1)rotate(0deg);transform:scale(1)rotate(0deg);filter:drop-shadow(0 0 0 rgba(239,68,68,0))}}@-o-keyframes downvote-shake{0%{-o-transform:scale(1)rotate(0deg);transform:scale(1)rotate(0deg);filter:drop-shadow(0 0 0 rgba(239,68,68,0))}15%{-o-transform:scale(1.2)rotate(-5deg);transform:scale(1.2)rotate(-5deg);filter:drop-shadow(0 0 8px rgba(239,68,68,.8))}30%{-o-transform:scale(1.3)rotate(5deg);transform:scale(1.3)rotate(5deg);filter:drop-shadow(0 2px 10px rgba(239,68,68,1))}45%{-o-transform:scale(1.2)rotate(-3deg);transform:scale(1.2)rotate(-3deg);filter:drop-shadow(0 0 8px rgba(239,68,68,.8))}60%{-o-transform:scale(1.1)rotate(2deg);transform:scale(1.1)rotate(2deg);filter:drop-shadow(0 0 6px rgba(239,68,68,.6))}75%{-o-transform:scale(1.05)rotate(-1deg);transform:scale(1.05)rotate(-1deg);filter:drop-shadow(0 0 4px rgba(239,68,68,.4))}100%{-o-transform:scale(1)rotate(0deg);transform:scale(1)rotate(0deg);filter:drop-shadow(0 0 0 rgba(239,68,68,0))}}@keyframes downvote-shake{0%{-webkit-transform:scale(1)rotate(0deg);-moz-transform:scale(1)rotate(0deg);-o-transform:scale(1)rotate(0deg);transform:scale(1)rotate(0deg);-webkit-filter:drop-shadow(0 0 0 rgba(239,68,68,0));filter:drop-shadow(0 0 0 rgba(239,68,68,0))}15%{-webkit-transform:scale(1.2)rotate(-5deg);-moz-transform:scale(1.2)rotate(-5deg);-o-transform:scale(1.2)rotate(-5deg);transform:scale(1.2)rotate(-5deg);-webkit-filter:drop-shadow(0 0 8px rgba(239,68,68,.8));filter:drop-shadow(0 0 8px rgba(239,68,68,.8))}30%{-webkit-transform:scale(1.3)rotate(5deg);-moz-transform:scale(1.3)rotate(5deg);-o-transform:scale(1.3)rotate(5deg);transform:scale(1.3)rotate(5deg);-webkit-filter:drop-shadow(0 2px 10px rgba(239,68,68,1));filter:drop-shadow(0 2px 10px rgba(239,68,68,1))}45%{-webkit-transform:scale(1.2)rotate(-3deg);-moz-transform:scale(1.2)rotate(-3deg);-o-transform:scale(1.2)rotate(-3deg);transform:scale(1.2)rotate(-3deg);-webkit-filter:drop-shadow(0 0 8px rgba(239,68,68,.8));filter:drop-shadow(0 0 8px rgba(239,68,68,.8))}60%{-webkit-transform:scale(1.1)rotate(2deg);-moz-transform:scale(1.1)rotate(2deg);-o-transform:scale(1.1)rotate(2deg);transform:scale(1.1)rotate(2deg);-webkit-filter:drop-shadow(0 0 6px rgba(239,68,68,.6));filter:drop-shadow(0 0 6px rgba(239,68,68,.6))}75%{-webkit-transform:scale(1.05)rotate(-1deg);-moz-transform:scale(1.05)rotate(-1deg);-o-transform:scale(1.05)rotate(-1deg);transform:scale(1.05)rotate(-1deg);-webkit-filter:drop-shadow(0 0 4px rgba(239,68,68,.4));filter:drop-shadow(0 0 4px rgba(239,68,68,.4))}100%{-webkit-transform:scale(1)rotate(0deg);-moz-transform:scale(1)rotate(0deg);-o-transform:scale(1)rotate(0deg);transform:scale(1)rotate(0deg);-webkit-filter:drop-shadow(0 0 0 rgba(239,68,68,0));filter:drop-shadow(0 0 0 rgba(239,68,68,0))}}.animate-upvote-pop.jsx-d50bfabeab9055b9{-webkit-animation:upvote-pop.5s ease-out;-moz-animation:upvote-pop.5s ease-out;-o-animation:upvote-pop.5s ease-out;animation:upvote-pop.5s ease-out}.animate-downvote-shake.jsx-d50bfabeab9055b9{-webkit-animation:downvote-shake.5s ease-in-out;-moz-animation:downvote-shake.5s ease-in-out;-o-animation:downvote-shake.5s ease-in-out;animation:downvote-shake.5s ease-in-out}"})]})}function B({currentCollegeId:e,currentCollegeName:a,onClose:s}){let[l,i]=(0,r.useState)(""),[o,n]=(0,r.useState)([]),[d,c]=(0,r.useState)([e]),[x,m]=(0,r.useState)([]),[b,f]=(0,r.useState)(!1),[h,g]=(0,r.useState)(!1),p=async a=>{if(!a.trim()){n([]);return}g(!0);try{let s=await fetch(`${O.CT}/colleges?q=${encodeURIComponent(a)}&limit=10`);if(s.ok){let a=((await s.json()).colleges||[]).filter(a=>a.id!==e&&!d.includes(a.id));n(a)}else n([])}catch(e){console.error("Search failed:",e),n([])}finally{g(!1)}};(0,r.useEffect)(()=>{let e=setTimeout(()=>{p(l)},300);return()=>clearTimeout(e)},[l,d]);let y=e=>{if(d.length>=2){alert("You can only compare with one other college");return}d.includes(e)||(c([...d,e]),i(""),n([]))},j=a=>{a!==e&&c(d.filter(e=>e!==a))};(0,r.useEffect)(()=>{d.length>=2?w():m([])},[d]);let w=async()=>{f(!0);try{let e=await fetch(`${O.CT}/colleges/compare?ids=${d.join(",")}`);if(e.ok){let a=await e.json();m(a.colleges)}else console.error("Compare API error:",e.status)}catch(e){console.error("Failed to fetch comparison data:",e)}finally{f(!1)}},v=e=>e>=4?"bg-green-500":e>=3?"bg-yellow-500":"bg-red-500",N=e=>e>=4?"text-green-600":e>=3?"text-yellow-600":"text-red-600";return(0,t.jsxs)("div",{className:"max-h-[85vh] overflow-y-auto",children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Compare Schools"})}),x.length<2&&(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search for a College to Compare With"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,t.jsx)(u.Z,{className:"h-5 w-5 text-gray-400"})}),(0,t.jsx)("input",{type:"text",value:l,onChange:e=>i(e.target.value),placeholder:"Search for colleges...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",disabled:d.length>=2})]}),o.length>0&&(0,t.jsx)("div",{className:"mt-2 bg-white border-2 border-indigo-200 rounded-lg shadow-xl max-h-60 overflow-auto z-10",children:o.map(e=>(0,t.jsx)("button",{onClick:()=>y(e.id),className:"w-full px-4 py-3 text-left hover:bg-indigo-50 border-b border-gray-100 last:border-b-0 transition-colors",children:(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-semibold text-gray-900",children:e.name}),(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:[e.city,", ",e.state]})]})})},e.id))}),h&&(0,t.jsx)("div",{className:"mt-2 text-sm text-indigo-600 font-medium",children:"\uD83D\uDD0D Searching..."}),l.trim()&&!h&&0===o.length&&(0,t.jsxs)("div",{className:"mt-2 text-sm text-gray-500 p-3 bg-gray-50 rounded-lg",children:['No colleges found matching "',l,'"']})]}),x.length>0&&(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:x.map(a=>(0,t.jsxs)("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm",children:[(0,t.jsx)("span",{children:a.name}),a.id!==e&&(0,t.jsx)("button",{onClick:()=>j(a.id),className:"hover:text-indigo-900",children:(0,t.jsx)(R.Z,{className:"w-4 h-4"})})]},a.id))})}),b?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto"}),(0,t.jsx)("p",{className:"mt-2 text-gray-600",children:"Loading comparison..."})]}):x.length>=2?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"grid grid-cols-2 gap-6",children:x.map(e=>(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 text-center",children:[e.ratings_breakdown.overall>0?(0,t.jsx)("div",{className:`inline-flex items-center px-6 py-3 rounded-full font-bold text-2xl mb-4 text-white ${v(e.ratings_breakdown.overall)}`,children:e.ratings_breakdown.overall.toFixed(1)}):(0,t.jsx)("div",{className:"inline-flex items-center px-6 py-3 rounded-full font-bold text-2xl mb-4 bg-gray-300 text-gray-700",children:"N/A"}),(0,t.jsx)("div",{className:"text-xs text-gray-500 mb-3",children:"OVERALL"}),(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[e.city,", ",e.state]}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:[e.total_reviews," Rating",1!==e.total_reviews?"s":""]})]},e.id))}),(0,t.jsxs)("div",{className:"bg-white rounded-lg p-6 space-y-4",children:[x.map((e,a)=>(0,t.jsxs)("div",{children:[0===a&&(0,t.jsx)("div",{className:"mb-2 text-sm font-semibold text-gray-700",children:"Internet:"}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsxs)("div",{className:"flex-1 flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:`h-full rounded-full transition-all ${v(e.ratings_breakdown.internet)}`,style:{width:`${e.ratings_breakdown.internet/5*100}%`}})}),(0,t.jsx)("span",{className:`font-semibold w-12 ${N(e.ratings_breakdown.internet)}`,children:e.ratings_breakdown.internet>0?e.ratings_breakdown.internet.toFixed(1):"N/A"})]}),(0,t.jsx)("span",{className:"text-xs text-gray-500 w-32 text-right truncate",children:e.name})]})]},`internet-${e.id}`)),x.map((e,a)=>(0,t.jsxs)("div",{children:[0===a&&(0,t.jsx)("div",{className:"mb-2 text-sm font-semibold text-gray-700 mt-4",children:"Safety:"}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsxs)("div",{className:"flex-1 flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:`h-full rounded-full transition-all ${v(e.ratings_breakdown.safety)}`,style:{width:`${e.ratings_breakdown.safety/5*100}%`}})}),(0,t.jsx)("span",{className:`font-semibold w-12 ${N(e.ratings_breakdown.safety)}`,children:e.ratings_breakdown.safety>0?e.ratings_breakdown.safety.toFixed(1):"N/A"})]}),(0,t.jsx)("span",{className:"text-xs text-gray-500 w-32 text-right truncate",children:e.name})]})]},`safety-${e.id}`)),x.map((e,a)=>(0,t.jsxs)("div",{children:[0===a&&(0,t.jsx)("div",{className:"mb-2 text-sm font-semibold text-gray-700 mt-4",children:"Facilities:"}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsxs)("div",{className:"flex-1 flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:`h-full rounded-full transition-all ${v(e.ratings_breakdown.facilities)}`,style:{width:`${e.ratings_breakdown.facilities/5*100}%`}})}),(0,t.jsx)("span",{className:`font-semibold w-12 ${N(e.ratings_breakdown.facilities)}`,children:e.ratings_breakdown.facilities>0?e.ratings_breakdown.facilities.toFixed(1):"N/A"})]}),(0,t.jsx)("span",{className:"text-xs text-gray-500 w-32 text-right truncate",children:e.name})]})]},`facilities-${e.id}`)),x.map((e,a)=>(0,t.jsxs)("div",{children:[0===a&&(0,t.jsx)("div",{className:"mb-2 text-sm font-semibold text-gray-700 mt-4",children:"Opportunities:"}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsxs)("div",{className:"flex-1 flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:`h-full rounded-full transition-all ${v(e.ratings_breakdown.opportunities)}`,style:{width:`${e.ratings_breakdown.opportunities/5*100}%`}})}),(0,t.jsx)("span",{className:`font-semibold w-12 ${N(e.ratings_breakdown.opportunities)}`,children:e.ratings_breakdown.opportunities>0?e.ratings_breakdown.opportunities.toFixed(1):"N/A"})]}),(0,t.jsx)("span",{className:"text-xs text-gray-500 w-32 text-right truncate",children:e.name})]})]},`opportunities-${e.id}`)),x.map((e,a)=>(0,t.jsxs)("div",{children:[0===a&&(0,t.jsx)("div",{className:"mb-2 text-sm font-semibold text-gray-700 mt-4",children:"Location:"}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsxs)("div",{className:"flex-1 flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:`h-full rounded-full transition-all ${v(e.ratings_breakdown.location)}`,style:{width:`${e.ratings_breakdown.location/5*100}%`}})}),(0,t.jsx)("span",{className:`font-semibold w-12 ${N(e.ratings_breakdown.location)}`,children:e.ratings_breakdown.location>0?e.ratings_breakdown.location.toFixed(1):"N/A"})]}),(0,t.jsx)("span",{className:"text-xs text-gray-500 w-32 text-right truncate",children:e.name})]})]},`location-${e.id}`)),x.map((e,a)=>(0,t.jsxs)("div",{children:[0===a&&(0,t.jsx)("div",{className:"mb-2 text-sm font-semibold text-gray-700 mt-4",children:"Clubs:"}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsxs)("div",{className:"flex-1 flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:`h-full rounded-full transition-all ${v(e.ratings_breakdown.clubs)}`,style:{width:`${e.ratings_breakdown.clubs/5*100}%`}})}),(0,t.jsx)("span",{className:`font-semibold w-12 ${N(e.ratings_breakdown.clubs)}`,children:e.ratings_breakdown.clubs>0?e.ratings_breakdown.clubs.toFixed(1):"N/A"})]}),(0,t.jsx)("span",{className:"text-xs text-gray-500 w-32 text-right truncate",children:e.name})]})]},`clubs-${e.id}`)),x.map((e,a)=>(0,t.jsxs)("div",{children:[0===a&&(0,t.jsx)("div",{className:"mb-2 text-sm font-semibold text-gray-700 mt-4",children:"Social:"}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsxs)("div",{className:"flex-1 flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:`h-full rounded-full transition-all ${v(e.ratings_breakdown.social)}`,style:{width:`${e.ratings_breakdown.social/5*100}%`}})}),(0,t.jsx)("span",{className:`font-semibold w-12 ${N(e.ratings_breakdown.social)}`,children:e.ratings_breakdown.social>0?e.ratings_breakdown.social.toFixed(1):"N/A"})]}),(0,t.jsx)("span",{className:"text-xs text-gray-500 w-32 text-right truncate",children:e.name})]})]},`social-${e.id}`)),x.map((e,a)=>(0,t.jsxs)("div",{children:[0===a&&(0,t.jsx)("div",{className:"mb-2 text-sm font-semibold text-gray-700 mt-4",children:"Food:"}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsxs)("div",{className:"flex-1 flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:`h-full rounded-full transition-all ${v(e.ratings_breakdown.food)}`,style:{width:`${e.ratings_breakdown.food/5*100}%`}})}),(0,t.jsx)("span",{className:`font-semibold w-12 ${N(e.ratings_breakdown.food)}`,children:e.ratings_breakdown.food>0?e.ratings_breakdown.food.toFixed(1):"N/A"})]}),(0,t.jsx)("span",{className:"text-xs text-gray-500 w-32 text-right truncate",children:e.name})]})]},`food-${e.id}`))]})]}):(0,t.jsxs)("div",{className:"text-center py-8 text-gray-500 bg-gray-50 rounded-lg",children:[(0,t.jsx)(u.Z,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),(0,t.jsxs)("p",{children:["Search and select a college to compare with ",(0,t.jsx)("strong",{children:a})]})]})]})}function W(){let{id:e}=(0,l.useRouter)().query,[a,s]=(0,r.useState)(null),[i,n]=(0,r.useState)([]),[f,p]=(0,r.useState)([]),[y,j]=(0,r.useState)(!0),[w,v]=(0,r.useState)(!1),[N,k]=(0,r.useState)("all"),[_,C]=(0,r.useState)([]),[$,S]=(0,r.useState)(""),[Z,F]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{v(!!localStorage.getItem("authToken"))},[]),(0,r.useEffect)(()=>{e&&(async()=>{try{j(!0);let a=`http://localhost:8000/v1/colleges/${e}`;console.log("\uD83D\uDD0D Fetching college from:",a);let t=await fetch(a);if(console.log("\uD83D\uDCE1 College response status:",t.status),!t.ok){console.error("❌ College not found - Status:",t.status),j(!1);return}let r=await t.json();console.log("✅ College data:",r),s(r);let l=await fetch(`http://localhost:8000/v1/professors?college_id=${e}&limit=200`);if(l.ok){let e=(await l.json()).professors||[];n(e),p(e);let a=Array.from(new Set(e.map(e=>e.department).filter(e=>!!e)));C(a.sort())}}catch(e){console.error("Error fetching college data:",e)}finally{j(!1)}})()},[e]),(0,r.useEffect)(()=>{"all"===N?p(i):p(i.filter(e=>e.department===N))},[N,i]),(0,r.useEffect)(()=>{let e=i;if("all"!==N&&(e=e.filter(e=>e.department===N)),$.trim()){let a=$.toLowerCase();e=e.filter(e=>e.name.toLowerCase().includes(a)||e.department.toLowerCase().includes(a)||e.specialization&&e.specialization.toLowerCase().includes(a))}p(e)},[N,$,i]),y)?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading college details..."})]})}):a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(o(),{children:[(0,t.jsxs)("title",{children:[a.name," - RateMyProf India"]}),(0,t.jsx)("meta",{name:"description",content:`Learn about ${a.name} in ${a.city}, ${a.state}. Find professors, reviews, and more.`})]}),(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-4",children:[(0,t.jsxs)(d(),{href:"/",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-4",children:[(0,t.jsx)(c.Z,{className:"w-4 h-4 mr-2"}),"Back to Search"]}),(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:a.name}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-gray-600 mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(x.Z,{className:"w-4 h-4"}),(0,t.jsxs)("span",{children:[a.city,", ",a.state]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(m.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:a.college_type})]}),a.established_year&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(b.Z,{className:"w-4 h-4"}),(0,t.jsxs)("span",{children:["Est. ",a.established_year]})]})]})]}),a.website&&(0,t.jsxs)("a",{href:a.website,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,t.jsx)(h,{className:"w-4 h-4"}),"Visit Website"]})]})]})}),(0,t.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,t.jsx)("div",{className:"bg-white rounded-lg p-6 shadow-sm border mb-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Compare & Explore"}),(0,t.jsx)("button",{onClick:()=>F(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors text-sm font-medium",children:"Compare Colleges"})]})}),Z&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Compare Colleges"}),(0,t.jsx)("button",{onClick:()=>F(!1),className:"text-gray-400 hover:text-gray-600 text-2xl font-bold",children:"\xd7"})]}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsx)(B,{currentCollegeId:a.id,currentCollegeName:a.name,onClose:()=>F(!1)})})]})}),(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsx)(q,{collegeId:a.id,collegeName:a.name,canReview:w,onReviewSubmitted:()=>{console.log("Review submitted successfully")}})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,t.jsx)("div",{className:"bg-white rounded-lg p-6 shadow-sm border",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,t.jsx)(g.Z,{className:"w-6 h-6 text-blue-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:a.total_professors}),(0,t.jsx)("p",{className:"text-gray-600",children:"Professors"})]})]})}),(0,t.jsx)("div",{className:"bg-white rounded-lg p-6 shadow-sm border",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,t.jsx)(m.Z,{className:"w-6 h-6 text-green-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:a.college_type}),(0,t.jsx)("p",{className:"text-gray-600",children:"Institution Type"})]})]})}),a.established_year&&(0,t.jsx)("div",{className:"bg-white rounded-lg p-6 shadow-sm border",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,t.jsx)(b.Z,{className:"w-6 h-6 text-purple-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-2xl font-bold text-gray-900",children:[new Date().getFullYear()-a.established_year," Years"]}),(0,t.jsx)("p",{className:"text-gray-600",children:"Experience"})]})]})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm border mb-8",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"College Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),(0,t.jsxs)("p",{className:"text-gray-900",children:[a.city,", ",a.state]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Institution Type"}),(0,t.jsx)("p",{className:"text-gray-900",children:a.college_type})]}),a.established_year&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Established"}),(0,t.jsx)("p",{className:"text-gray-900",children:a.established_year})]}),a.email_domain&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Domain"}),(0,t.jsxs)("p",{className:"text-gray-900 font-mono",children:["@",a.email_domain]})]}),a.website&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Official Website"}),(0,t.jsx)("a",{href:a.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 underline",children:a.website})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm border",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsxs)("h2",{className:"text-xl font-bold text-gray-900",children:["Professors (",f.length,")"]}),(0,t.jsx)(d(),{href:`/professors/add?college_id=${a.id}`,className:"text-sm text-white px-4 py-2 rounded-md font-medium hover:opacity-90 transition-opacity",style:{backgroundColor:"#4e46e5"},children:"Add Professor"})]}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(u.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,t.jsx)("input",{type:"text",placeholder:"Search professors by name, department, or specialization...",value:$,onChange:e=>S(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),$&&(0,t.jsx)("button",{onClick:()=>S(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:"✕"})]})}),_.length>1&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{htmlFor:"department-filter",className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Department"}),(0,t.jsxs)("select",{id:"department-filter",value:N,onChange:e=>k(e.target.value),className:"w-full md:w-64 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,t.jsxs)("option",{value:"all",children:["All Departments (",i.length,")"]}),_.map(e=>(0,t.jsxs)("option",{value:e,children:[e," (",i.filter(a=>a.department===e).length,")"]},e))]})]}),0===f.length?(0,t.jsx)("p",{className:"text-gray-600",children:$||"all"!==N?"No professors found matching your search criteria.":"No professors found for this college."}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(e=>(0,t.jsxs)(d(),{href:`/professors/${e.id}`,className:"block p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-all",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.department}),e.specialization&&(0,t.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:e.specialization}),e.average_rating&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"text-sm font-medium text-yellow-600",children:["⭐ ",e.average_rating.toFixed(1)]}),e.total_reviews&&(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:["(",e.total_reviews," reviews)"]})]})]},e.id))})]})]})]})]}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"College Not Found"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"The college you're looking for doesn't exist."}),(0,t.jsx)(d(),{href:"/",className:"text-blue-600 hover:underline",children:"Return to Home"})]})})}},9008:function(e,a,s){e.exports=s(3867)}},function(e){e.O(0,[664,164,888,774,179],function(){return e(e.s=1120)}),_N_E=e.O()}]);